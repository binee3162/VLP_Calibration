#coding=utf-8
#!/usr/bin/env python2
# @brief plot CDF graph of detected frequencies exported from frequency_estimation_image.py
# @author Song Gao

import matplotlib.pyplot as plt
import numpy as np
import scipy.stats as sc
import pandas as pd

frequencies_dict={'1000': [1000.16963529, 1004.90144958, 1004.27305889,  996.2264151 ,
       1000.        , 1003.80228137, 1007.63358779, 1002.45355766,
       1001.89753321, 1023.25581396, 1012.35619941, 1005.26837411,
       1007.63358779,  996.2264151 , 1000.        , 1000.        ,
       1000.        , 1000.        , 1000.        , 1000.        
       ], '1375': [1405.38796581, 1379.61926092, 1385.11719639, 1374.64623075,
       1378.85799658, 1382.25064513, 1394.1267388 , 1392.26519337,
       1395.28091295, 1377.15179969, 1375.        , 1375.        ,
       1402.19677495, 1377.15179969, 1375.        , 1375.        ,
       1375.        , 1375.        , 1380.0452375 , 1393.48364056
        ], '1700':[1698.96408144, 1712.06225681, 1705.42635659, 1705.42635659,
       1705.42635659, 1705.42635659, 1705.42635659, 1705.14709896,
       1704.53169768, 1705.42635659, 1705.42635659, 1707.33810469,
       1706.67586089, 1698.57582556, 1705.42635659, 1705.42635659,
       1710.3171861 , 1705.42635659], '2000': [2000.1567521 , 2009.1324201 , 2004.55580866, 2004.24094872,
       2000.00000001, 1995.46485261, 2018.34862386, 2000.00000001,
       2000.00000001, 2018.34862386, 2000.00000001, 2000.00000001,
       2009.1324201 , 2000.00000001, 2000.00000001, 1981.98198199,
       2000.00000001, 2000.00000001, 2000.00000001], '2500': [2509.50570343, 2533.58925145, 2509.50570343, 2529.22913156,
       2500.00000001, 2533.54337553, 2512.61515256, 2504.74383303,
       2503.28227572, 2528.73563219, 2509.13876299, 2509.50570343,
       2517.60563381, 2533.58925145, 2511.84747407, 2500.00000001,
       2509.50570343, 2500.83584086, 2511.19068935, 2504.74383303], '3000': [3012.01764617, 3034.48275863, 3037.44278533, 3034.48275863,
       3018.2676774 , 3010.56076157, 3006.83371299, 3034.48275863,
       3006.83371299, 3006.83371299, 3020.59496568, 3000.00000001,
       3002.83149005, 3000.00000001, 3000.72551392, 3034.48275863,
       3034.48275863, 3002.52188104, 3006.83371299, 3000.00000001], '4000': [4000.00000001, 4000.00000001, 4036.77345064, 4000.00000001,
       4000.00000001, 4000.00000001, 4028.11170706, 4016.6636479 ,
       4036.69724772, 4014.15459473, 4002.81583366, 4004.0444894 ,
       4031.19376126, 4037.96952057, 4005.00165497, 3991.93548388,
       4026.8456376 , 4000.00000001, 4019.52551883, 4040.81632654]}
div=[]
for key in frequencies_dict.keys():
    for value in frequencies_dict[key]:
        div=np.append(div,abs(int(key)-value))
l=len(div)
div, div_counts = np.unique(div, return_counts=True)
div_counts=div_counts/float(l)
cdf=np.cumsum(div_counts)
plt.plot(div,cdf)

plt.xlabel("Error(Hz)")
plt.ylabel("Probability")
plt.title("CDF for frequency errors")
plt.show()
# dataframe = pd.DataFrame(div)
# dataframe.to_excel('/mnt/c/Users/Song/Desktop/data1.xls')
